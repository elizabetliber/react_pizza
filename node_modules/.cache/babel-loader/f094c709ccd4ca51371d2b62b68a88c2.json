{"ast":null,"code":"'use strict';\n\nvar Parser = require('./parser'),\n    Pipeline = require('./pipeline');\n\nvar Extensions = function () {\n  this._rsv1 = this._rsv2 = this._rsv3 = null;\n  this._byName = {};\n  this._inOrder = [];\n  this._sessions = [];\n  this._index = {};\n};\n\nExtensions.MESSAGE_OPCODES = [1, 2];\nvar instance = {\n  add: function (ext) {\n    if (typeof ext.name !== 'string') throw new TypeError('extension.name must be a string');\n    if (ext.type !== 'permessage') throw new TypeError('extension.type must be \"permessage\"');\n    if (typeof ext.rsv1 !== 'boolean') throw new TypeError('extension.rsv1 must be true or false');\n    if (typeof ext.rsv2 !== 'boolean') throw new TypeError('extension.rsv2 must be true or false');\n    if (typeof ext.rsv3 !== 'boolean') throw new TypeError('extension.rsv3 must be true or false');\n    if (this._byName.hasOwnProperty(ext.name)) throw new TypeError('An extension with name \"' + ext.name + '\" is already registered');\n    this._byName[ext.name] = ext;\n\n    this._inOrder.push(ext);\n  },\n  generateOffer: function () {\n    var sessions = [],\n        offer = [],\n        index = {};\n\n    this._inOrder.forEach(function (ext) {\n      var session = ext.createClientSession();\n      if (!session) return;\n      var record = [ext, session];\n      sessions.push(record);\n      index[ext.name] = record;\n      var offers = session.generateOffer();\n      offers = offers ? [].concat(offers) : [];\n      offers.forEach(function (off) {\n        offer.push(Parser.serializeParams(ext.name, off));\n      }, this);\n    }, this);\n\n    this._sessions = sessions;\n    this._index = index;\n    return offer.length > 0 ? offer.join(', ') : null;\n  },\n  activate: function (header) {\n    var responses = Parser.parseHeader(header),\n        sessions = [];\n    responses.eachOffer(function (name, params) {\n      var record = this._index[name];\n      if (!record) throw new Error('Server sent an extension response for unknown extension \"' + name + '\"');\n\n      var ext = record[0],\n          session = record[1],\n          reserved = this._reserved(ext);\n\n      if (reserved) throw new Error('Server sent two extension responses that use the RSV' + reserved[0] + ' bit: \"' + reserved[1] + '\" and \"' + ext.name + '\"');\n      if (session.activate(params) !== true) throw new Error('Server sent unacceptable extension parameters: ' + Parser.serializeParams(name, params));\n\n      this._reserve(ext);\n\n      sessions.push(record);\n    }, this);\n    this._sessions = sessions;\n    this._pipeline = new Pipeline(sessions);\n  },\n  generateResponse: function (header) {\n    var sessions = [],\n        response = [],\n        offers = Parser.parseHeader(header);\n\n    this._inOrder.forEach(function (ext) {\n      var offer = offers.byName(ext.name);\n      if (offer.length === 0 || this._reserved(ext)) return;\n      var session = ext.createServerSession(offer);\n      if (!session) return;\n\n      this._reserve(ext);\n\n      sessions.push([ext, session]);\n      response.push(Parser.serializeParams(ext.name, session.generateResponse()));\n    }, this);\n\n    this._sessions = sessions;\n    this._pipeline = new Pipeline(sessions);\n    return response.length > 0 ? response.join(', ') : null;\n  },\n  validFrameRsv: function (frame) {\n    var allowed = {\n      rsv1: false,\n      rsv2: false,\n      rsv3: false\n    },\n        ext;\n\n    if (Extensions.MESSAGE_OPCODES.indexOf(frame.opcode) >= 0) {\n      for (var i = 0, n = this._sessions.length; i < n; i++) {\n        ext = this._sessions[i][0];\n        allowed.rsv1 = allowed.rsv1 || ext.rsv1;\n        allowed.rsv2 = allowed.rsv2 || ext.rsv2;\n        allowed.rsv3 = allowed.rsv3 || ext.rsv3;\n      }\n    }\n\n    return (allowed.rsv1 || !frame.rsv1) && (allowed.rsv2 || !frame.rsv2) && (allowed.rsv3 || !frame.rsv3);\n  },\n  processIncomingMessage: function (message, callback, context) {\n    this._pipeline.processIncomingMessage(message, callback, context);\n  },\n  processOutgoingMessage: function (message, callback, context) {\n    this._pipeline.processOutgoingMessage(message, callback, context);\n  },\n  close: function (callback, context) {\n    if (!this._pipeline) return callback.call(context);\n\n    this._pipeline.close(callback, context);\n  },\n  _reserve: function (ext) {\n    this._rsv1 = this._rsv1 || ext.rsv1 && ext.name;\n    this._rsv2 = this._rsv2 || ext.rsv2 && ext.name;\n    this._rsv3 = this._rsv3 || ext.rsv3 && ext.name;\n  },\n  _reserved: function (ext) {\n    if (this._rsv1 && ext.rsv1) return [1, this._rsv1];\n    if (this._rsv2 && ext.rsv2) return [2, this._rsv2];\n    if (this._rsv3 && ext.rsv3) return [3, this._rsv3];\n    return false;\n  }\n};\n\nfor (var key in instance) Extensions.prototype[key] = instance[key];\n\nmodule.exports = Extensions;","map":{"version":3,"sources":["/home/lisa/VSProjects/react-pizza/react_pizza/node_modules/websocket-extensions/lib/websocket_extensions.js"],"names":["Parser","require","Pipeline","Extensions","_rsv1","_rsv2","_rsv3","_byName","_inOrder","_sessions","_index","MESSAGE_OPCODES","instance","add","ext","name","TypeError","type","rsv1","rsv2","rsv3","hasOwnProperty","push","generateOffer","sessions","offer","index","forEach","session","createClientSession","record","offers","concat","off","serializeParams","length","join","activate","header","responses","parseHeader","eachOffer","params","Error","reserved","_reserved","_reserve","_pipeline","generateResponse","response","byName","createServerSession","validFrameRsv","frame","allowed","indexOf","opcode","i","n","processIncomingMessage","message","callback","context","processOutgoingMessage","close","call","key","prototype","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar Parser   = require('./parser'),\n    Pipeline = require('./pipeline');\n\nvar Extensions = function() {\n  this._rsv1 = this._rsv2 = this._rsv3 = null;\n\n  this._byName   = {};\n  this._inOrder  = [];\n  this._sessions = [];\n  this._index    = {};\n};\n\nExtensions.MESSAGE_OPCODES = [1, 2];\n\nvar instance = {\n  add: function(ext) {\n    if (typeof ext.name !== 'string') throw new TypeError('extension.name must be a string');\n    if (ext.type !== 'permessage') throw new TypeError('extension.type must be \"permessage\"');\n\n    if (typeof ext.rsv1 !== 'boolean') throw new TypeError('extension.rsv1 must be true or false');\n    if (typeof ext.rsv2 !== 'boolean') throw new TypeError('extension.rsv2 must be true or false');\n    if (typeof ext.rsv3 !== 'boolean') throw new TypeError('extension.rsv3 must be true or false');\n\n    if (this._byName.hasOwnProperty(ext.name))\n      throw new TypeError('An extension with name \"' + ext.name + '\" is already registered');\n\n    this._byName[ext.name] = ext;\n    this._inOrder.push(ext);\n  },\n\n  generateOffer: function() {\n    var sessions = [],\n        offer    = [],\n        index    = {};\n\n    this._inOrder.forEach(function(ext) {\n      var session = ext.createClientSession();\n      if (!session) return;\n\n      var record = [ext, session];\n      sessions.push(record);\n      index[ext.name] = record;\n\n      var offers = session.generateOffer();\n      offers = offers ? [].concat(offers) : [];\n\n      offers.forEach(function(off) {\n        offer.push(Parser.serializeParams(ext.name, off));\n      }, this);\n    }, this);\n\n    this._sessions = sessions;\n    this._index    = index;\n\n    return offer.length > 0 ? offer.join(', ') : null;\n  },\n\n  activate: function(header) {\n    var responses = Parser.parseHeader(header),\n        sessions  = [];\n\n    responses.eachOffer(function(name, params) {\n      var record = this._index[name];\n\n      if (!record)\n        throw new Error('Server sent an extension response for unknown extension \"' + name + '\"');\n\n      var ext      = record[0],\n          session  = record[1],\n          reserved = this._reserved(ext);\n\n      if (reserved)\n        throw new Error('Server sent two extension responses that use the RSV' +\n                        reserved[0] + ' bit: \"' +\n                        reserved[1] + '\" and \"' + ext.name + '\"');\n\n      if (session.activate(params) !== true)\n        throw new Error('Server sent unacceptable extension parameters: ' +\n                        Parser.serializeParams(name, params));\n\n      this._reserve(ext);\n      sessions.push(record);\n    }, this);\n\n    this._sessions = sessions;\n    this._pipeline = new Pipeline(sessions);\n  },\n\n  generateResponse: function(header) {\n    var sessions = [],\n        response = [],\n        offers   = Parser.parseHeader(header);\n\n    this._inOrder.forEach(function(ext) {\n      var offer = offers.byName(ext.name);\n      if (offer.length === 0 || this._reserved(ext)) return;\n\n      var session = ext.createServerSession(offer);\n      if (!session) return;\n\n      this._reserve(ext);\n      sessions.push([ext, session]);\n      response.push(Parser.serializeParams(ext.name, session.generateResponse()));\n    }, this);\n\n    this._sessions = sessions;\n    this._pipeline = new Pipeline(sessions);\n\n    return response.length > 0 ? response.join(', ') : null;\n  },\n\n  validFrameRsv: function(frame) {\n    var allowed = { rsv1: false, rsv2: false, rsv3: false },\n        ext;\n\n    if (Extensions.MESSAGE_OPCODES.indexOf(frame.opcode) >= 0) {\n      for (var i = 0, n = this._sessions.length; i < n; i++) {\n        ext = this._sessions[i][0];\n        allowed.rsv1 = allowed.rsv1 || ext.rsv1;\n        allowed.rsv2 = allowed.rsv2 || ext.rsv2;\n        allowed.rsv3 = allowed.rsv3 || ext.rsv3;\n      }\n    }\n\n    return (allowed.rsv1 || !frame.rsv1) &&\n           (allowed.rsv2 || !frame.rsv2) &&\n           (allowed.rsv3 || !frame.rsv3);\n  },\n\n  processIncomingMessage: function(message, callback, context) {\n    this._pipeline.processIncomingMessage(message, callback, context);\n  },\n\n  processOutgoingMessage: function(message, callback, context) {\n    this._pipeline.processOutgoingMessage(message, callback, context);\n  },\n\n  close: function(callback, context) {\n    if (!this._pipeline) return callback.call(context);\n    this._pipeline.close(callback, context);\n  },\n\n  _reserve: function(ext) {\n    this._rsv1 = this._rsv1 || (ext.rsv1 && ext.name);\n    this._rsv2 = this._rsv2 || (ext.rsv2 && ext.name);\n    this._rsv3 = this._rsv3 || (ext.rsv3 && ext.name);\n  },\n\n  _reserved: function(ext) {\n    if (this._rsv1 && ext.rsv1) return [1, this._rsv1];\n    if (this._rsv2 && ext.rsv2) return [2, this._rsv2];\n    if (this._rsv3 && ext.rsv3) return [3, this._rsv3];\n    return false;\n  }\n};\n\nfor (var key in instance)\n  Extensions.prototype[key] = instance[key];\n\nmodule.exports = Extensions;\n"]},"metadata":{},"sourceType":"script"}