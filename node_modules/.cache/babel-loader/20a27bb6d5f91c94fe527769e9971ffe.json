{"ast":null,"code":"'use strict';\n\nvar nextTick = nextTickArgs;\nprocess.nextTick(upgrade, 42); // pass 42 and see if upgrade is called with it\n\nmodule.exports = thunky;\n\nfunction thunky(fn) {\n  var state = run;\n  return thunk;\n\n  function thunk(callback) {\n    state(callback || noop);\n  }\n\n  function run(callback) {\n    var stack = [callback];\n    state = wait;\n    fn(done);\n\n    function wait(callback) {\n      stack.push(callback);\n    }\n\n    function done(err) {\n      var args = arguments;\n      state = isError(err) ? run : finished;\n\n      while (stack.length) finished(stack.shift());\n\n      function finished(callback) {\n        nextTick(apply, callback, args);\n      }\n    }\n  }\n}\n\nfunction isError(err) {\n  // inlined from util so this works in the browser\n  return Object.prototype.toString.call(err) === '[object Error]';\n}\n\nfunction noop() {}\n\nfunction apply(callback, args) {\n  callback.apply(null, args);\n}\n\nfunction upgrade(val) {\n  if (val === 42) nextTick = process.nextTick;\n}\n\nfunction nextTickArgs(fn, a, b) {\n  process.nextTick(function () {\n    fn(a, b);\n  });\n}","map":{"version":3,"sources":["/home/lisa/VSProjects/react-pizza/react_pizza/node_modules/thunky/index.js"],"names":["nextTick","nextTickArgs","process","upgrade","module","exports","thunky","fn","state","run","thunk","callback","noop","stack","wait","done","push","err","args","arguments","isError","finished","length","shift","apply","Object","prototype","toString","call","val","a","b"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,YAAf;AACAC,OAAO,CAACF,QAAR,CAAiBG,OAAjB,EAA0B,EAA1B,E,CAA8B;;AAE9BC,MAAM,CAACC,OAAP,GAAiBC,MAAjB;;AAEA,SAASA,MAAT,CAAiBC,EAAjB,EAAqB;AACnB,MAAIC,KAAK,GAAGC,GAAZ;AACA,SAAOC,KAAP;;AAEA,WAASA,KAAT,CAAgBC,QAAhB,EAA0B;AACxBH,IAAAA,KAAK,CAACG,QAAQ,IAAIC,IAAb,CAAL;AACD;;AAED,WAASH,GAAT,CAAcE,QAAd,EAAwB;AACtB,QAAIE,KAAK,GAAG,CAACF,QAAD,CAAZ;AACAH,IAAAA,KAAK,GAAGM,IAAR;AACAP,IAAAA,EAAE,CAACQ,IAAD,CAAF;;AAEA,aAASD,IAAT,CAAeH,QAAf,EAAyB;AACvBE,MAAAA,KAAK,CAACG,IAAN,CAAWL,QAAX;AACD;;AAED,aAASI,IAAT,CAAeE,GAAf,EAAoB;AAClB,UAAIC,IAAI,GAAGC,SAAX;AACAX,MAAAA,KAAK,GAAGY,OAAO,CAACH,GAAD,CAAP,GAAeR,GAAf,GAAqBY,QAA7B;;AACA,aAAOR,KAAK,CAACS,MAAb,EAAqBD,QAAQ,CAACR,KAAK,CAACU,KAAN,EAAD,CAAR;;AAErB,eAASF,QAAT,CAAmBV,QAAnB,EAA6B;AAC3BX,QAAAA,QAAQ,CAACwB,KAAD,EAAQb,QAAR,EAAkBO,IAAlB,CAAR;AACD;AACF;AACF;AACF;;AAED,SAASE,OAAT,CAAkBH,GAAlB,EAAuB;AAAE;AACvB,SAAOQ,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BX,GAA/B,MAAwC,gBAA/C;AACD;;AAED,SAASL,IAAT,GAAiB,CAAE;;AAEnB,SAASY,KAAT,CAAgBb,QAAhB,EAA0BO,IAA1B,EAAgC;AAC9BP,EAAAA,QAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBN,IAArB;AACD;;AAED,SAASf,OAAT,CAAkB0B,GAAlB,EAAuB;AACrB,MAAIA,GAAG,KAAK,EAAZ,EAAgB7B,QAAQ,GAAGE,OAAO,CAACF,QAAnB;AACjB;;AAED,SAASC,YAAT,CAAuBM,EAAvB,EAA2BuB,CAA3B,EAA8BC,CAA9B,EAAiC;AAC/B7B,EAAAA,OAAO,CAACF,QAAR,CAAiB,YAAY;AAC3BO,IAAAA,EAAE,CAACuB,CAAD,EAAIC,CAAJ,CAAF;AACD,GAFD;AAGD","sourcesContent":["'use strict'\n\nvar nextTick = nextTickArgs\nprocess.nextTick(upgrade, 42) // pass 42 and see if upgrade is called with it\n\nmodule.exports = thunky\n\nfunction thunky (fn) {\n  var state = run\n  return thunk\n\n  function thunk (callback) {\n    state(callback || noop)\n  }\n\n  function run (callback) {\n    var stack = [callback]\n    state = wait\n    fn(done)\n\n    function wait (callback) {\n      stack.push(callback)\n    }\n\n    function done (err) {\n      var args = arguments\n      state = isError(err) ? run : finished\n      while (stack.length) finished(stack.shift())\n\n      function finished (callback) {\n        nextTick(apply, callback, args)\n      }\n    }\n  }\n}\n\nfunction isError (err) { // inlined from util so this works in the browser\n  return Object.prototype.toString.call(err) === '[object Error]'\n}\n\nfunction noop () {}\n\nfunction apply (callback, args) {\n  callback.apply(null, args)\n}\n\nfunction upgrade (val) {\n  if (val === 42) nextTick = process.nextTick\n}\n\nfunction nextTickArgs (fn, a, b) {\n  process.nextTick(function () {\n    fn(a, b)\n  })\n}\n"]},"metadata":{},"sourceType":"script"}