{"ast":null,"code":"'use strict';\n\nvar util = require('util');\n\nvar isNode = require('detect-node'); // Node.js 0.8, 0.10 and 0.12 support\n\n\nObject.assign = process.versions.modules >= 46 || !isNode ? Object.assign // eslint-disable-next-line\n: util._extend;\n\nfunction QueueItem() {\n  this.prev = null;\n  this.next = null;\n}\n\nexports.QueueItem = QueueItem;\n\nfunction Queue() {\n  QueueItem.call(this);\n  this.prev = this;\n  this.next = this;\n}\n\nutil.inherits(Queue, QueueItem);\nexports.Queue = Queue;\n\nQueue.prototype.insertTail = function insertTail(item) {\n  item.prev = this.prev;\n  item.next = this;\n  item.prev.next = item;\n  item.next.prev = item;\n};\n\nQueue.prototype.remove = function remove(item) {\n  var next = item.next;\n  var prev = item.prev;\n  item.next = item;\n  item.prev = item;\n  next.prev = prev;\n  prev.next = next;\n};\n\nQueue.prototype.head = function head() {\n  return this.next;\n};\n\nQueue.prototype.tail = function tail() {\n  return this.prev;\n};\n\nQueue.prototype.isEmpty = function isEmpty() {\n  return this.next === this;\n};\n\nQueue.prototype.isRoot = function isRoot(item) {\n  return this === item;\n};\n\nfunction LockStream(stream) {\n  this.locked = false;\n  this.queue = [];\n  this.stream = stream;\n}\n\nexports.LockStream = LockStream;\n\nLockStream.prototype.write = function write(chunks, callback) {\n  var self = this; // Do not let it interleave\n\n  if (this.locked) {\n    this.queue.push(function () {\n      return self.write(chunks, callback);\n    });\n    return;\n  }\n\n  this.locked = true;\n\n  function done(err, chunks) {\n    self.stream.removeListener('error', done);\n    self.locked = false;\n\n    if (self.queue.length > 0) {\n      self.queue.shift()();\n    }\n\n    callback(err, chunks);\n  }\n\n  this.stream.on('error', done); // Accumulate all output data\n\n  var output = [];\n\n  function onData(chunk) {\n    output.push(chunk);\n  }\n\n  this.stream.on('data', onData);\n\n  function next(err) {\n    self.stream.removeListener('data', onData);\n\n    if (err) {\n      return done(err);\n    }\n\n    done(null, output);\n  }\n\n  for (var i = 0; i < chunks.length - 1; i++) {\n    this.stream.write(chunks[i]);\n  }\n\n  if (chunks.length > 0) {\n    this.stream.write(chunks[i], next);\n  } else {\n    process.nextTick(next);\n  }\n\n  if (this.stream.execute) {\n    this.stream.execute(function (err) {\n      if (err) {\n        return done(err);\n      }\n    });\n  }\n}; // Just finds the place in array to insert\n\n\nfunction binaryLookup(list, item, compare) {\n  var start = 0;\n  var end = list.length;\n\n  while (start < end) {\n    var pos = start + end >> 1;\n    var cmp = compare(item, list[pos]);\n\n    if (cmp === 0) {\n      start = pos;\n      end = pos;\n      break;\n    } else if (cmp < 0) {\n      end = pos;\n    } else {\n      start = pos + 1;\n    }\n  }\n\n  return start;\n}\n\nexports.binaryLookup = binaryLookup;\n\nfunction binaryInsert(list, item, compare) {\n  var index = binaryLookup(list, item, compare);\n  list.splice(index, 0, item);\n}\n\nexports.binaryInsert = binaryInsert;\n\nfunction binarySearch(list, item, compare) {\n  var index = binaryLookup(list, item, compare);\n\n  if (index >= list.length) {\n    return -1;\n  }\n\n  if (compare(item, list[index]) === 0) {\n    return index;\n  }\n\n  return -1;\n}\n\nexports.binarySearch = binarySearch;\n\nfunction Timeout(object) {\n  this.delay = 0;\n  this.timer = null;\n  this.object = object;\n}\n\nexports.Timeout = Timeout;\n\nTimeout.prototype.set = function set(delay, callback) {\n  this.delay = delay;\n  this.reset();\n\n  if (!callback) {\n    return;\n  }\n\n  if (this.delay === 0) {\n    this.object.removeListener('timeout', callback);\n  } else {\n    this.object.once('timeout', callback);\n  }\n};\n\nTimeout.prototype.reset = function reset() {\n  if (this.timer !== null) {\n    clearTimeout(this.timer);\n    this.timer = null;\n  }\n\n  if (this.delay === 0) {\n    return;\n  }\n\n  var self = this;\n  this.timer = setTimeout(function () {\n    self.timer = null;\n    self.object.emit('timeout');\n  }, this.delay);\n};","map":{"version":3,"sources":["/home/lisa/VSProjects/react-pizza/react_pizza/node_modules/spdy-transport/lib/spdy-transport/utils.js"],"names":["util","require","isNode","Object","assign","process","versions","modules","_extend","QueueItem","prev","next","exports","Queue","call","inherits","prototype","insertTail","item","remove","head","tail","isEmpty","isRoot","LockStream","stream","locked","queue","write","chunks","callback","self","push","done","err","removeListener","length","shift","on","output","onData","chunk","i","nextTick","execute","binaryLookup","list","compare","start","end","pos","cmp","binaryInsert","index","splice","binarySearch","Timeout","object","delay","timer","set","reset","once","clearTimeout","setTimeout","emit"],"mappings":"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","sourcesContent":["'use strict'\n\nvar util = require('util')\nvar isNode = require('detect-node')\n\n// Node.js 0.8, 0.10 and 0.12 support\nObject.assign = (process.versions.modules >= 46 || !isNode)\n  ? Object.assign // eslint-disable-next-line\n  : util._extend\n\nfunction QueueItem () {\n  this.prev = null\n  this.next = null\n}\nexports.QueueItem = QueueItem\n\nfunction Queue () {\n  QueueItem.call(this)\n\n  this.prev = this\n  this.next = this\n}\nutil.inherits(Queue, QueueItem)\nexports.Queue = Queue\n\nQueue.prototype.insertTail = function insertTail (item) {\n  item.prev = this.prev\n  item.next = this\n  item.prev.next = item\n  item.next.prev = item\n}\n\nQueue.prototype.remove = function remove (item) {\n  var next = item.next\n  var prev = item.prev\n\n  item.next = item\n  item.prev = item\n  next.prev = prev\n  prev.next = next\n}\n\nQueue.prototype.head = function head () {\n  return this.next\n}\n\nQueue.prototype.tail = function tail () {\n  return this.prev\n}\n\nQueue.prototype.isEmpty = function isEmpty () {\n  return this.next === this\n}\n\nQueue.prototype.isRoot = function isRoot (item) {\n  return this === item\n}\n\nfunction LockStream (stream) {\n  this.locked = false\n  this.queue = []\n  this.stream = stream\n}\nexports.LockStream = LockStream\n\nLockStream.prototype.write = function write (chunks, callback) {\n  var self = this\n\n  // Do not let it interleave\n  if (this.locked) {\n    this.queue.push(function () {\n      return self.write(chunks, callback)\n    })\n    return\n  }\n\n  this.locked = true\n\n  function done (err, chunks) {\n    self.stream.removeListener('error', done)\n\n    self.locked = false\n    if (self.queue.length > 0) { self.queue.shift()() }\n    callback(err, chunks)\n  }\n\n  this.stream.on('error', done)\n\n  // Accumulate all output data\n  var output = []\n  function onData (chunk) {\n    output.push(chunk)\n  }\n  this.stream.on('data', onData)\n\n  function next (err) {\n    self.stream.removeListener('data', onData)\n    if (err) {\n      return done(err)\n    }\n\n    done(null, output)\n  }\n\n  for (var i = 0; i < chunks.length - 1; i++) { this.stream.write(chunks[i]) }\n\n  if (chunks.length > 0) {\n    this.stream.write(chunks[i], next)\n  } else { process.nextTick(next) }\n\n  if (this.stream.execute) {\n    this.stream.execute(function (err) {\n      if (err) { return done(err) }\n    })\n  }\n}\n\n// Just finds the place in array to insert\nfunction binaryLookup (list, item, compare) {\n  var start = 0\n  var end = list.length\n\n  while (start < end) {\n    var pos = (start + end) >> 1\n    var cmp = compare(item, list[pos])\n\n    if (cmp === 0) {\n      start = pos\n      end = pos\n      break\n    } else if (cmp < 0) {\n      end = pos\n    } else {\n      start = pos + 1\n    }\n  }\n\n  return start\n}\nexports.binaryLookup = binaryLookup\n\nfunction binaryInsert (list, item, compare) {\n  var index = binaryLookup(list, item, compare)\n\n  list.splice(index, 0, item)\n}\nexports.binaryInsert = binaryInsert\n\nfunction binarySearch (list, item, compare) {\n  var index = binaryLookup(list, item, compare)\n\n  if (index >= list.length) {\n    return -1\n  }\n\n  if (compare(item, list[index]) === 0) {\n    return index\n  }\n\n  return -1\n}\nexports.binarySearch = binarySearch\n\nfunction Timeout (object) {\n  this.delay = 0\n  this.timer = null\n  this.object = object\n}\nexports.Timeout = Timeout\n\nTimeout.prototype.set = function set (delay, callback) {\n  this.delay = delay\n  this.reset()\n  if (!callback) { return }\n\n  if (this.delay === 0) {\n    this.object.removeListener('timeout', callback)\n  } else {\n    this.object.once('timeout', callback)\n  }\n}\n\nTimeout.prototype.reset = function reset () {\n  if (this.timer !== null) {\n    clearTimeout(this.timer)\n    this.timer = null\n  }\n\n  if (this.delay === 0) { return }\n\n  var self = this\n  this.timer = setTimeout(function () {\n    self.timer = null\n    self.object.emit('timeout')\n  }, this.delay)\n}\n"]},"metadata":{},"sourceType":"script"}