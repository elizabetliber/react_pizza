{"ast":null,"code":"'use strict';\n\nvar NodeHTTPParser = require('http-parser-js').HTTPParser,\n    Buffer = require('safe-buffer').Buffer;\n\nvar TYPES = {\n  request: NodeHTTPParser.REQUEST || 'request',\n  response: NodeHTTPParser.RESPONSE || 'response'\n};\n\nvar HttpParser = function (type) {\n  this._type = type;\n  this._parser = new NodeHTTPParser(TYPES[type]);\n  this._complete = false;\n  this.headers = {};\n  var current = null,\n      self = this;\n\n  this._parser.onHeaderField = function (b, start, length) {\n    current = b.toString('utf8', start, start + length).toLowerCase();\n  };\n\n  this._parser.onHeaderValue = function (b, start, length) {\n    var value = b.toString('utf8', start, start + length);\n    if (self.headers.hasOwnProperty(current)) self.headers[current] += ', ' + value;else self.headers[current] = value;\n  };\n\n  this._parser.onHeadersComplete = this._parser[NodeHTTPParser.kOnHeadersComplete] = function (majorVersion, minorVersion, headers, method, pathname, statusCode) {\n    var info = arguments[0];\n\n    if (typeof info === 'object') {\n      method = info.method;\n      pathname = info.url;\n      statusCode = info.statusCode;\n      headers = info.headers;\n    }\n\n    self.method = typeof method === 'number' ? HttpParser.METHODS[method] : method;\n    self.statusCode = statusCode;\n    self.url = pathname;\n    if (!headers) return;\n\n    for (var i = 0, n = headers.length, key, value; i < n; i += 2) {\n      key = headers[i].toLowerCase();\n      value = headers[i + 1];\n      if (self.headers.hasOwnProperty(key)) self.headers[key] += ', ' + value;else self.headers[key] = value;\n    }\n\n    self._complete = true;\n  };\n};\n\nHttpParser.METHODS = {\n  0: 'DELETE',\n  1: 'GET',\n  2: 'HEAD',\n  3: 'POST',\n  4: 'PUT',\n  5: 'CONNECT',\n  6: 'OPTIONS',\n  7: 'TRACE',\n  8: 'COPY',\n  9: 'LOCK',\n  10: 'MKCOL',\n  11: 'MOVE',\n  12: 'PROPFIND',\n  13: 'PROPPATCH',\n  14: 'SEARCH',\n  15: 'UNLOCK',\n  16: 'BIND',\n  17: 'REBIND',\n  18: 'UNBIND',\n  19: 'ACL',\n  20: 'REPORT',\n  21: 'MKACTIVITY',\n  22: 'CHECKOUT',\n  23: 'MERGE',\n  24: 'M-SEARCH',\n  25: 'NOTIFY',\n  26: 'SUBSCRIBE',\n  27: 'UNSUBSCRIBE',\n  28: 'PATCH',\n  29: 'PURGE',\n  30: 'MKCALENDAR',\n  31: 'LINK',\n  32: 'UNLINK'\n};\nvar VERSION = process.version ? process.version.match(/[0-9]+/g).map(function (n) {\n  return parseInt(n, 10);\n}) : [];\n\nif (VERSION[0] === 0 && VERSION[1] === 12) {\n  HttpParser.METHODS[16] = 'REPORT';\n  HttpParser.METHODS[17] = 'MKACTIVITY';\n  HttpParser.METHODS[18] = 'CHECKOUT';\n  HttpParser.METHODS[19] = 'MERGE';\n  HttpParser.METHODS[20] = 'M-SEARCH';\n  HttpParser.METHODS[21] = 'NOTIFY';\n  HttpParser.METHODS[22] = 'SUBSCRIBE';\n  HttpParser.METHODS[23] = 'UNSUBSCRIBE';\n  HttpParser.METHODS[24] = 'PATCH';\n  HttpParser.METHODS[25] = 'PURGE';\n}\n\nHttpParser.prototype.isComplete = function () {\n  return this._complete;\n};\n\nHttpParser.prototype.parse = function (chunk) {\n  var consumed = this._parser.execute(chunk, 0, chunk.length);\n\n  if (typeof consumed !== 'number') {\n    this.error = consumed;\n    this._complete = true;\n    return;\n  }\n\n  if (this._complete) this.body = consumed < chunk.length ? chunk.slice(consumed) : Buffer.alloc(0);\n};\n\nmodule.exports = HttpParser;","map":{"version":3,"sources":["/home/lisa/VSProjects/react-pizza/react_pizza/node_modules/websocket-driver/lib/websocket/http_parser.js"],"names":["NodeHTTPParser","require","HTTPParser","Buffer","TYPES","request","REQUEST","response","RESPONSE","HttpParser","type","_type","_parser","_complete","headers","current","self","onHeaderField","b","start","length","toString","toLowerCase","onHeaderValue","value","hasOwnProperty","onHeadersComplete","kOnHeadersComplete","majorVersion","minorVersion","method","pathname","statusCode","info","arguments","url","METHODS","i","n","key","VERSION","process","version","match","map","parseInt","prototype","isComplete","parse","chunk","consumed","execute","error","body","slice","alloc","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar NodeHTTPParser = require('http-parser-js').HTTPParser,\n    Buffer         = require('safe-buffer').Buffer;\n\nvar TYPES = {\n  request:  NodeHTTPParser.REQUEST  || 'request',\n  response: NodeHTTPParser.RESPONSE || 'response'\n};\n\nvar HttpParser = function(type) {\n  this._type     = type;\n  this._parser   = new NodeHTTPParser(TYPES[type]);\n  this._complete = false;\n  this.headers   = {};\n\n  var current = null,\n      self    = this;\n\n  this._parser.onHeaderField = function(b, start, length) {\n    current = b.toString('utf8', start, start + length).toLowerCase();\n  };\n\n  this._parser.onHeaderValue = function(b, start, length) {\n    var value = b.toString('utf8', start, start + length);\n\n    if (self.headers.hasOwnProperty(current))\n      self.headers[current] += ', ' + value;\n    else\n      self.headers[current] = value;\n  };\n\n  this._parser.onHeadersComplete = this._parser[NodeHTTPParser.kOnHeadersComplete] =\n  function(majorVersion, minorVersion, headers, method, pathname, statusCode) {\n    var info = arguments[0];\n\n    if (typeof info === 'object') {\n      method     = info.method;\n      pathname   = info.url;\n      statusCode = info.statusCode;\n      headers    = info.headers;\n    }\n\n    self.method     = (typeof method === 'number') ? HttpParser.METHODS[method] : method;\n    self.statusCode = statusCode;\n    self.url        = pathname;\n\n    if (!headers) return;\n\n    for (var i = 0, n = headers.length, key, value; i < n; i += 2) {\n      key   = headers[i].toLowerCase();\n      value = headers[i+1];\n      if (self.headers.hasOwnProperty(key))\n        self.headers[key] += ', ' + value;\n      else\n        self.headers[key] = value;\n    }\n\n    self._complete = true;\n  };\n};\n\nHttpParser.METHODS = {\n  0:  'DELETE',\n  1:  'GET',\n  2:  'HEAD',\n  3:  'POST',\n  4:  'PUT',\n  5:  'CONNECT',\n  6:  'OPTIONS',\n  7:  'TRACE',\n  8:  'COPY',\n  9:  'LOCK',\n  10: 'MKCOL',\n  11: 'MOVE',\n  12: 'PROPFIND',\n  13: 'PROPPATCH',\n  14: 'SEARCH',\n  15: 'UNLOCK',\n  16: 'BIND',\n  17: 'REBIND',\n  18: 'UNBIND',\n  19: 'ACL',\n  20: 'REPORT',\n  21: 'MKACTIVITY',\n  22: 'CHECKOUT',\n  23: 'MERGE',\n  24: 'M-SEARCH',\n  25: 'NOTIFY',\n  26: 'SUBSCRIBE',\n  27: 'UNSUBSCRIBE',\n  28: 'PATCH',\n  29: 'PURGE',\n  30: 'MKCALENDAR',\n  31: 'LINK',\n  32: 'UNLINK'\n};\n\nvar VERSION = process.version\n  ? process.version.match(/[0-9]+/g).map(function(n) { return parseInt(n, 10) })\n  : [];\n\nif (VERSION[0] === 0 && VERSION[1] === 12) {\n  HttpParser.METHODS[16] = 'REPORT';\n  HttpParser.METHODS[17] = 'MKACTIVITY';\n  HttpParser.METHODS[18] = 'CHECKOUT';\n  HttpParser.METHODS[19] = 'MERGE';\n  HttpParser.METHODS[20] = 'M-SEARCH';\n  HttpParser.METHODS[21] = 'NOTIFY';\n  HttpParser.METHODS[22] = 'SUBSCRIBE';\n  HttpParser.METHODS[23] = 'UNSUBSCRIBE';\n  HttpParser.METHODS[24] = 'PATCH';\n  HttpParser.METHODS[25] = 'PURGE';\n}\n\nHttpParser.prototype.isComplete = function() {\n  return this._complete;\n};\n\nHttpParser.prototype.parse = function(chunk) {\n  var consumed = this._parser.execute(chunk, 0, chunk.length);\n\n  if (typeof consumed !== 'number') {\n    this.error     = consumed;\n    this._complete = true;\n    return;\n  }\n\n  if (this._complete)\n    this.body = (consumed < chunk.length)\n              ? chunk.slice(consumed)\n              : Buffer.alloc(0);\n};\n\nmodule.exports = HttpParser;\n"]},"metadata":{},"sourceType":"script"}